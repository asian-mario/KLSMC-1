<!DOCTYPE html>
<html lang="en">
  <head>
    <title>KLSMC</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="icon" href="/images/favicon.png" type="image/png" />
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Abril+Fatface&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <link rel="stylesheet" href="css/animate.css" />

    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />

    <link rel="stylesheet" href="css/flaticon.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div id="colorlib-page">
      <a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
      <aside id="colorlib-aside" role="complementary" class="js-fullheight">
        <h1 id="colorlib-logo" class="mb-4 mb-md-5">
          <a href="index.html" style="background-color: white">KLSMC</a>
        </h1>
        <nav id="colorlib-main-menu" role="navigation">
          <ul>
            <li>
              <h3><a href="index.html">Home</a></h3>
            </li>
            <li class="colorlib-active">
              <h3><a href="single.html">Current Event</a></h3>
            </li>
            <li>
              <h3><a href="compdets.html">Competition Details</a></h3>
            </li>

            <li>
              <h3><a href="past_content.html">Past Year Papers</a></h3>
            </li>
            <li>
              <h3><a href="gallery.html">Past Year Media</a></h3>
            </li>
            <li>
              <h3><a href="about.html">About</a></h3>
            </li>
          </ul>
          <h3 style="padding-top: 100%">
            <a href="https://ghostly-developer.github.io/">Made By: Rangga</a>
          </h3>
        </nav>
      </aside>
      <!-- END COLORLIB-ASIDE -->
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <title>KLSMC</title>
          <meta charset="utf-8" />
          <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
          />
          <!-- ... other links ... -->
          <link rel="stylesheet" href="css/style.css" />
        </head>
        <body class="dark-theme">
          <!-- ... existing content ... -->
          <div id="colorlib-main">
            <section class="ftco-section ftco-no-pt ftco-no-pb">
              <div class="container" style="padding-top: 20px">
                <div class="square" >
                  <h2>Trial Form</h2>
                  <p>
                    Input your teamID. Every google form, including this one, should only be submitted once per team.
                  </p>
                  <a
                    href="https://forms.gle/KVhKzZ9JJWFnGzCQA"
                    class="btn btn-primary"
                    target="”_blank”"
                    >Submission</a
                  >
                </div>
                <div
                  class="four-squares"
                  style="padding-top: 20px; padding-bottom: 2rem"
                >
                  <div class="square">
                    <h2>Maths Puzzles & Fermi Problems</h2>

                    <p>
                      Test your logical thinking and approximation in this
                      fast-paced round. What truly is “a statement”? How many
                      tennis balls can fit into a swimming pool? All such
                      questions you will answer. Solve the ancient coin riddle,
                      have fun with some racing madness, and deal with infinity.
                      Last but not least, complete the first edition of Huan
                      Sha’s Cross Number. With no calculator, the limits of
                      teams’ mathematical deduction and reasoning are truly put
                      to the test! <br /><br />

                      Designed by:
                      <b>Huan Sha Cai (Year 12), Kaitlynn Tan (Year 12)</b>
                    </p>
                    <a href="https://docs.google.com/document/d/1-hXAN7kLxUl1jrp7xUNoO7RsebSuRl6-PZt4T8NrwpI/edit?usp=sharing" class="btn btn-primary">Round Open</a>
                    <a href="https://forms.gle/W5WDjiQD4Xy2v4Kb6" class="btn btn-primary">Submission Open</a>
                  </div>
                  <div class="square">
                    <h2>In Pursuit of Proof</h2>
                    <p style="padding-bottom: 15%">
                      Delve into the world of rigorous proof, where logic meets
                      creativity, and unveil the beauty of mathematical
                      certainty. We strongly advise all competitors to prove
                      each and every question, and as such, we will introduce a
                      harsh negative marking system (-5 marks). Blank questions
                      will neither gain nor lose marks. <br /><br />
                      Designed by: <b>Daryl Lee (Year 10)</b>
                    </p>

                    <a href="https://docs.google.com/document/d/1YeUCDpicP6tk1z9A_bHXJ9t-YnjEXc2vJyIs-R-o57k/edit" class="btn btn-primary">Round Open</a>
                    <a href="https://forms.gle/FF7VN2KYgKuQoHs26" class="btn btn-primary">Submission Open</a>
                  </div>

                  <div class="square">
                    <h2>Comical Calculus</h2>
                    <p>
                      Prepare to embark on a journey through the fascinating
                      world of derivatives, integrals, and limits, where every
                      curve and every tangent holds the promise of discovery and
                      triumph. This is the hardest round of the competition, and
                      a formula booklet has been attached below with all the
                      information you need. Be prepared to tackle some truly
                      elegant calculus problems that will drive you insane. The
                      top 2 teams will advance to a single tiebreaker,
                      Integration Bee style! <br /><br />

                      Designed by: <b>Yiqi Sim (Year 13)</b>
                    </p>

                    <a
                      href="https://docs.google.com/document/d/1oJNQdq8lU93R5XFltpETzK5oo164Jkjs4UHhjrqYQpQ/edit?usp=sharing"
                      class="btn btn-primary"
                      target="”_blank”"
                      >Formula Sheet</a
                    >
                    <a href="https://forms.gle/9qfD5gwn9EnFmDji7" class="btn btn-primary">Round Open</a>
                    <a href="https://docs.google.com/presentation/d/1uLwuhcL_RZwtqIAwpdjLf7M58_kDrea3QpHRTvrGEo8/edit?usp=sharing" class="btn btn-primary"
                      >Integration Bee Locked Until After Event</a
                    >
                  </div>
                  <div class="square">
                    <h2>Relay Maths</h2>
                    <p style="padding-bottom: 20%">
                      Trailblaze your way to mathematical victory! In this
                      round, teams run a ‘maths relay race’ between 4 stations.
                      Questions can only be completed in order (thus skipping
                      questions means you cannot go back to correct them). How
                      far can you get? <br /><br />

                      Designed by:
                      <b
                        >Saksham Chouksey (Year 12), Leiyi Sun (Year 12),
                        Sachdev Singh (Year 10)</b
                      >
                    </p>
                    <a href="https://docs.google.com/presentation/d/1hceOoBNwdP3LJY-x6q0A2wQ6U8m883cTq_6I2SpH8YA/edit?usp=sharing" class="btn btn-primary"
                      >Round Open</a
                    >
                    <a href="https://docs.google.com/presentation/d/1J4DlYxQWuy1S5AwHOifI6vDtySvIZKs2nIK1NvWH9m0/edit?usp=sharing" class="btn btn-disabled"
                      >Answer Key</a
                    >
                  </div>
                  <div class="square">
                    <h2>The Enigma of Captain ‘All Ice’ Smith</h2>
                    <p>
                      In the treacherous waters of Malaysian pirate lore, a
                      legend unfolds – that of Captain 'All Ice' Smith, a
                      swashbuckler whose intellect rivalled his reign of terror.
                      By counting cards and bounty hunting anyone who uses the
                      word ‘trivial’ in their everyday language, he amassed
                      riches exceeding a googolplex grams of gold. Yet, his
                      greatest conquest lay in solving the answer to life, the
                      cosmos, and all treasure in between. The pirate gods,
                      envious and angered by his intellectual prowess, conjured
                      a colossal tsunami to swallow Captain 'All Ice' and
                      safeguard the cosmic secret. Miraculously, the pirate
                      survived the watery onslaught, battered and bruised,
                      finding refuge in a school now known as the Alice Smith
                      School. Realising the pirate gods' relentless pursuit,
                      Captain 'All Ice' took a daring step. Renaming himself
                      Captain 'All i's', he slipped into the realm of imaginary
                      numbers, vanishing from the tangible world. But, before he
                      disappeared into the mathematical ether, he left behind
                      cryptic clues to the location of his fabled treasure.
                      <br /><br />
                      Designed by:
                      <b>Siddhart Cross (Year 13), Derrick Seow (Year 13)</b>
                    </p>
                    <a
                      href="https://drive.google.com/file/d/1flvFgKfl5RZPT7zGf-r2xCNEsFZJV0Gm/view?usp=sharing"
                      class="btn btn-primary"
                      target="”_blank”"
                      >School Map</a
                    >
                    <a href="https://drive.google.com/file/u/3/d/1usrNMJcHXqvrXcismjx8avaXlppJtTV-/view?usp=sharing" class="btn btn-primary"
                      >Plot Open</a
                    >

                    <a href="./temp.html" class="btn btn-primary"
                      >Press Me ???</a
                    >
                  </div>
                  <div class="square">
                    <h2 class="colorlib-heading">Leaderboard</h2>
                    <table id="leaderboardTable">
                      <thead>
                        <tr>
                          <th>Position</th> <!-- New Position column -->
                          <th>Team Name</th>
                          <th>Points</th>
                        </tr>
                      </thead>
                      <tbody>
                        <!-- Dynamic rows will be inserted here -->
                      </tbody>
                    </table>
                  </div>
                  <!-- <div class="square">
                    <h2>Feedback</h2>
                    <p>
                      If you would like to submit any critiques, improvements or general feedback about the KLSMC please submit the form below after the event and tell us how we can make KLSMC better for future events.
                      <br /><br />
                      Sincerely, 
                      <b>CS & Maths Prefects</b>
                    </p>
                    <a href="" class="btn btn-disabled"
                      >Form Locked Until After Event</a

                  </div> -->
                  </div>
                </div>
                <h1
                  class="colorlib-heading"
                  style="
                    padding-left: 1.5rem;
                    padding-top: 2rem;
                    padding-bottom: 0.5rem;
                  "
                >
                  Itinerary
                </h1>
                <div class="table-container">
                  <table class="custom-table">
                    <thead>
                      <tr>
                        <th>Round</th>
                        <th>Event</th>
                        <th>Comments (details / location)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>13:00-13:15</td>
                        <td>Students arrive</td>
                        <td>
                          Handing out T-shirts. Refreshments provided (for
                          teachers) - Main Hall
                        </td>
                      </tr>
                      <tr>
                        <td>13:15 - 13:30</td>
                        <td>Introduction and welcome</td>
                        <td>Introduce the inaugural KLSMC - Main Hall</td>
                      </tr>
                      <tr>
                        <td>13:30-14:45</td>
                        <td>Round 1</td>
                        <td>Maths Puzzles & Fermi Problems - Main hall</td>
                      </tr>
                      <tr>
                        <td>14:45-16:00</td>
                        <td>Round 2</td>
                        <td>In Pursuit of Proof - Main hall</td>
                      </tr>
                      <tr>
                        <td>16:00-16:15</td>
                        <td>Break</td>
                        <td>Main Hall</td>
                      </tr>
                      <tr>
                        <td>16:15-17:30</td>
                        <td>Round 3</td>
                        <td>
                          Comical Calculus and Integration Bee - Main Hall
                        </td>
                      </tr>
                      <tr>
                        <td>17:30-17:45</td>
                        <td>Photo</td>
                        <td>Group photo on the big library steps</td>
                      </tr>
                      <tr>
                        <td>17:45-18:45</td>
                        <td>Round 4</td>
                        <td>Relay Maths - Running track</td>
                      </tr>
                      <tr>
                        <td>18:45-19:15</td>
                        <td>Round 5</td>
                        <td>
                          The Enigma of Captain 'All Ice' Smith - around the EP
                          campus
                        </td>
                      </tr>
                      <tr>
                        <td>19:15-20:30</td>
                        <td>BBQ, Chill, Socialise</td>
                        <td>By the swimming pool</td>
                      </tr>
                      <tr>
                        <td>20:30-20:45</td>
                        <td>Closing</td>
                        <td>
                          Announce awards, give trophies - by the swimming pool
                        </td>
                      </tr>
                      <tr>
                        <td>21:00</td>
                        <td>Students Leave Campus</td>
                        <td>
                          Help students get onto buses/necessary transport
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </section>
          </div>
          <script>
            document.addEventListener("DOMContentLoaded", function () {
  fetch(
    "https://docs.google.com/spreadsheets/d/e/2PACX-1vTnJWPhzpH31vSrsvp7Wtk--Ns_3m_52zBsZSE7nkAcMrdORDyb0G5lOXZLYXqx6H5G4eFzqFEjT_7q/pub?output=csv"
  )
    .then((response) => response.text())
    .then((csv) => {
      let lines = csv.split("\n"); // Split CSV into lines
      let result = []; // This will contain the array of objects (leaderboard entries)

      let headers = lines[0].split(",").map((header) => header.trim()); // Split the first line into headers and trim

      for (let i = 1; i < lines.length; i++) {
        let obj = {};
        let currentline = lines[i].split(",").map((cell) => cell.trim());

        for (let j = 0; j < headers.length; j++) {
          obj[headers[j]] = currentline[j];
        }
        obj["Total"] = Number(obj["Total"]) || 0; // Convert points to a number if it is a valid number
        result.push(obj);
      }

      result.sort((a, b) => b["Total"] - a["Total"]); // Sort the result array by points in descending order

      let top10 = result.slice(0, 15); // Now top10 is an array of objects sorted by points and limited to top 15

      const tableBody = document.getElementById("leaderboardTable").getElementsByTagName("tbody")[0];
      tableBody.innerHTML = ""; // Clear existing table body

      top10.forEach((row, index) => {
        let tr = document.createElement("tr");
        // Include the position as (index + 1) since index is 0-based
        tr.innerHTML = `<td>${index + 1}</td><td>${row["Team ID"]}</td><td>${row["Total"]}</td>`;
        tableBody.appendChild(tr);
      });
    })
    .catch((error) => console.error("Error:", error));
});


            const sections = [
              { id: "fermi", duration: 60 * 5 }, // 5 minutes for Fermi Problems
              { id: "calculus", duration: 60 * 10 }, // 10 minutes for Calculus Round
              { id: "proof", duration: 60 * 15 }, // 15 minutes for In Pursuit of Proof
              // ... add more sections if needed ...
            ];

            function formatTime(duration) {
              var hours = parseInt(duration / 3600, 10);
              var minutes = parseInt((duration % 3600) / 60, 10);
              var seconds = parseInt(duration % 60, 10);
              hours = hours < 10 ? "0" + hours : hours;
              minutes = minutes < 10 ? "0" + minutes : minutes;
              seconds = seconds < 10 ? "0" + seconds : seconds;
              return hours + ":" + minutes + ":" + seconds;
            }

            function resetTimer(linkId) {
              localStorage.removeItem(linkId + "-end");
              localStorage.removeItem(linkId + "-version");
              localStorage.removeItem(linkId + "-reset");
              var section = sections.find((s) => linkId.startsWith(s.id));
              if (section) {
                var timerDisplay = document.querySelector(
                  "#timer" +
                    section.id.charAt(0).toUpperCase() +
                    section.id.slice(1)
                );
                timerDisplay.textContent = formatTime(section.duration);
                var linkElement = document.getElementById(linkId);
                linkElement.style.display = "none"; // Hide the link when resetting
              }
            }

            function startTimer(duration, display, linkId) {
              var end = localStorage.getItem(linkId + "-end");
              var resetFlag = localStorage.getItem(linkId + "-reset");
              if (resetFlag === "true" || !end) {
                resetTimer(linkId);
                end = Date.now() + duration * 1000;
                localStorage.setItem(linkId + "-end", end);
                localStorage.removeItem(linkId + "-reset");
              }
              var interval = setInterval(function () {
                var remaining = end - Date.now();
                var timer = remaining / 1000;
                if (remaining <= 0) {
                  clearInterval(interval);
                  display.textContent = "00:00:00";
                  var linkElement = document.getElementById(linkId);
                  linkElement.style.display = "block"; // Show the link when the timer ends
                  localStorage.removeItem(linkId + "-end");
                } else {
                  display.textContent = formatTime(timer);
                }
              }, 1000);
            }

            window.onload = function () {
              sections.forEach(function (section) {
                var timerDisplay = document.getElementById(
                  "timer" +
                    section.id.charAt(0).toUpperCase() +
                    section.id.slice(1)
                );
                var linkId = section.id + "-link";
                startTimer(section.duration, timerDisplay, linkId);
              });
            };
          </script>
        </body>
      </html>

      <!-- END COLORLIB-MAIN -->
    </div>
    <!-- END COLORLIB-PAGE -->

    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen">
      <svg class="circular" width="48px" height="48px">
        <circle
          class="path-bg"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke="#eeeeee"
        />
        <circle
          class="path"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke-miterlimit="10"
          stroke="#F96D00"
        />
      </svg>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/scrollax.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
    <script src="js/google-map.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
